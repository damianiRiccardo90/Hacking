# *__A Basic Heap-Based Overflow__*

The _notetaker_ program from Chapter 2 is also susceptible to a buffer overflow vulnerability. Two buffers are allocated on the heap, and the first command-line argument is copied into the first buffer. An overflow can occur here.

__Excerpt from notetaker.c__

```c
    buffer = (char *) ec_malloc(100);
    datafile = (char *) ec_malloc(20);
    strcpy(datafile, "/var/notes");

    if (argc < 2)                 // If there aren't command-line arguments,
        usage(argv[0], datafile); // display usage message and exit.

    //////////// VULNERABLE LINE ////////////
    strcpy(buffer, argv[1]);      // Copy into buffer.
    //////////// VULNERABLE LINE ////////////

    printf("[DEBUG] buffer @ %p: \'%s\'\n", buffer, buffer);
    printf("[DEBUG] datafile @ %p: \'%s\'\n", datafile, datafile);
```
